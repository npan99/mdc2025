<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simulador Mundial de Clubes 2025</title>
  <style>
    
    body {
      background: #000;
      color: #fff;
      font-family: sans-serif;
      margin: 0;
      padding: 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      text-align: center;
    }
    .groups {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .group {
  background: #1a1a1a;
  padding: 1rem;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.05);
}
    .group h2 {
      text-align: center;
      font-size: 1.2rem;
    }
    .team {
      display: flex;
      align-items: center;
      margin: 0.5rem 0;
      cursor: pointer;
      padding: 0.2rem;
      border-radius: 4px;
    }
    .circle {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  margin-right: 0.5rem;
  flex-shrink: 0;
}
    .first {
      background: #2a9d8f;
    }
    .second {
      background: #e9c46a;
    }
    #bracket {
      display: flex;
      justify-content: center;
      gap: 4rem;
      flex-wrap: wrap;
    }
    .team[data-team="Boca Juniors"] .circle { background: linear-gradient(to right, #0033A0 50%, #FFD700 50%); }
.team[data-team="Real Madrid"] .circle { background: linear-gradient(to right, white 50%, gold 50%); }
.team[data-team="Manchester City"] .circle { background: linear-gradient(to right, #6CABDD 50%, white 50%); }
.team[data-team="Flamengo"] .circle { background: linear-gradient(to right, red 50%, black 50%); }
.team[data-team="Palmeiras"] .circle { background: linear-gradient(to right, green 50%, white 50%); }
.team[data-team="PSG"] .circle { background: linear-gradient(to right, #00529F 50%, red 50%); }
.team[data-team="Chelsea"] .circle { background: linear-gradient(to right, #034694 50%, white 50%); }
.team[data-team="Juventus"] .circle { background: linear-gradient(to right, black 50%, white 50%); }
.team[data-team="Porto"] .circle { background: linear-gradient(to right, #001489 50%, white 50%); }
.team[data-team="Al-Ahly"] .circle { background: linear-gradient(to right, red 50%, gold 50%); }
.team[data-team="Inter Miami"] .circle { background: linear-gradient(to right, pink 50%, black 50%); }
.team[data-team="Atlético Madrid"] .circle { background: linear-gradient(to right, red 50%, white 50%); }
.team[data-team="Botafogo"] .circle { background: linear-gradient(to right, black 50%, white 50%); }
.team[data-team="Seattle Sounders"] .circle { background: linear-gradient(to right, #5D9731 50%, #005595 50%); }
.team[data-team="Bayern Múnich"] .circle { background: linear-gradient(to right, red 50%, white 50%); }
.team[data-team="Auckland City"] .circle { background: linear-gradient(to right, navy 50%, white 50%); }
.team[data-team="Benfica"] .circle { background: linear-gradient(to right, red 50%, white 50%); }
.team[data-team="Esperance"] .circle { background: linear-gradient(to right, red 50%, yellow 50%); }
.team[data-team="León"] .circle { background: linear-gradient(to right, green 50%, white 50%); }
.team[data-team="Monterrey"] .circle { background: linear-gradient(to right, navy 50%, white 50%); }
.team[data-team="Urawa Red Diamonds"] .circle { background: linear-gradient(to right, red 50%, black 50%); }
.team[data-team="Inter de Milán"] .circle { background: linear-gradient(to right, black 50%, blue 50%); }
.team[data-team="Fluminense"] .circle { background: linear-gradient(to right, maroon 50%, green 50%); }
.team[data-team="Borussia Dortmund"] .circle { background: linear-gradient(to right, yellow 50%, black 50%); }
.team[data-team="Ulsan HD"] .circle { background: linear-gradient(to right, #005BAC 50%, white 50%); }
.team[data-team="Mamelodi Sundowns"] .circle { background: linear-gradient(to right, yellow 50%, green 50%); }
.team[data-team="Wydad Casablanca"] .circle { background: linear-gradient(to right, red 50%, white 50%); }
.team[data-team="Al-Ain"] .circle { background: linear-gradient(to right, purple 50%, white 50%); }
.team[data-team="Al-Hilal"] .circle { background: linear-gradient(to right, blue 50%, white 50%); }
.team[data-team="Pachuca"] .circle { background: linear-gradient(to right, navy 50%, white 50%); }
.team[data-team="Salzburgo"] .circle { background: linear-gradient(to right, red 50%, white 50%); }
    .team[data-team="River Plate"] .circle { background: linear-gradient(to right, white 50%, red 50%); }

.match {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  margin-bottom: 2rem;
  background: #1a1a1a;
  padding: 1rem;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.05);
}
</style>
</head>
<body>
  <div class="groups" id="groups"></div>
  <h2>Octavos de final</h2>
  <div id="bracket">
    <div class="column" id="leftColumn"></div>
    <div class="column" id="rightColumn"></div>
  </div>
  <div id="cuartos"></div>
  <div id="semis"></div>
  <div id="final"></div>
  <div id="champion"></div>
  <script>
    const groupsData = {
      A: ["Palmeiras", "Porto", "Al-Ahly", "Inter Miami"],
      B: ["PSG", "Atlético Madrid", "Botafogo", "Seattle Sounders"],
      C: ["Bayern Múnich", "Auckland City", "Boca Juniors", "Benfica"],
      D: ["Flamengo", "Chelsea", "Esperance", "León"],
      E: ["River Plate", "Monterrey", "Urawa Red Diamonds", "Inter de Milán"],
      F: ["Fluminense", "Borussia Dortmund", "Ulsan HD", "Mamelodi Sundowns"],
      G: ["Manchester City", "Wydad Casablanca", "Al-Ain", "Juventus"],
      H: ["Real Madrid", "Al-Hilal", "Pachuca", "Salzburgo"]
    };

    const selections = {};
    const groupsContainer = document.getElementById('groups');
    const leftColumn = document.getElementById('leftColumn');
    const rightColumn = document.getElementById('rightColumn');

    for (const [group, teams] of Object.entries(groupsData)) {
      selections[group] = [];
      const div = document.createElement('div');
      div.classList.add('group');
      div.innerHTML = `<h2>Grupo ${group}</h2>`;
      teams.forEach(team => {
        const t = document.createElement('div');
        t.classList.add('team');
        t.setAttribute('data-team', team);
        t.innerHTML = `<div class="circle" data-team="${team}"></div> <span>${team}</span>`;
        t.onclick = () => selectTeam(group, team, t);
        div.appendChild(t);
      });
      groupsContainer.appendChild(div);
    }

    function selectTeam(group, team, element) {
      const index = selections[group].indexOf(team);
      if (index > -1) {
        selections[group].splice(index, 1);
        element.classList.remove('first', 'second');
      } else if (selections[group].length < 2) {
        selections[group].push(team);
      }
      updateHighlights(group);
      updateBracket();
    }

    function updateHighlights(group) {
      const groupDiv = [...groupsContainer.getElementsByClassName('group')]
        .find(div => div.querySelector('h2').textContent.trim() === `Grupo ${group}`);
      const teams = groupDiv.getElementsByClassName('team');
      [...teams].forEach(t => {
        const name = t.querySelector('span').textContent.trim();
        t.classList.remove('first', 'second');
        if (selections[group][0] === name) t.classList.add('first');
        if (selections[group][1] === name) t.classList.add('second');
      });
    }

    const octavosWinners = [[], []];

    function updateBracket() {
      leftColumn.innerHTML = '';
      rightColumn.innerHTML = '';

      const leftMatchups = [['A','B'], ['C','D'], ['E','F'], ['G','H']];
      const rightMatchups = [['B','A'], ['D','C'], ['F','E'], ['H','G']];

      function createMatch(t1, t2, round, index) {
        const match = document.createElement('div');
        match.classList.add('match');
        const span1 = document.createElement('span');
        const span2 = document.createElement('span');
        span1.className = 'team';
        span2.className = 'team';
        span1.setAttribute('data-team', t1);
        span2.setAttribute('data-team', t2);
        span1.innerHTML = `<div class='circle' data-team='${t1}'></div>${t1}`;
        span2.innerHTML = `<div class='circle' data-team='${t2}'></div>${t2}`;
        span1.onclick = () => selectWinner(round, index, t1, match);
        span2.onclick = () => selectWinner(round, index, t2, match);
        match.appendChild(span1);
        match.appendChild(span2);
        return match;
      }

      function renderMatches(pairings, container, round) {
        pairings.forEach(([g1, g2], index) => {
          const t1 = selections[g1]?.[0];
          const t2 = selections[g2]?.[1];
          if (t1 && t2) {
            const match = createMatch(t1, t2, round, index);
            container.appendChild(match);
            octavosWinners[round][index] = null;
          }
        });
      }

      renderMatches(leftMatchups, leftColumn, 0);
      renderMatches(rightMatchups, rightColumn, 1);
      updateCuartos();
    }

    function selectWinner(round, index, team, match) {
      const spans = match.querySelectorAll('span');
      spans.forEach(span => span.style.background = '');
      match.querySelector(`span[data-team="${team}"]`).style.background = '#2a9d8f';
      octavosWinners[round][index] = team;
      updateCuartos();
    }

    function updateCuartos() {
      const cuartos = document.getElementById('cuartos');
      cuartos.innerHTML = '<h2>Cuartos de final</h2>';
      const allWinners = [...octavosWinners[0], ...octavosWinners[1]].filter(Boolean);
      window.cuartosWinners = [];

      for (let i = 0; i < allWinners.length; i += 2) {
        if (allWinners[i + 1]) {
          const t1 = allWinners[i];
          const t2 = allWinners[i + 1];
          const match = document.createElement('div');
          match.classList.add('match');
          const span1 = document.createElement('span');
          const span2 = document.createElement('span');
          span1.className = 'team';
          span2.className = 'team';
          span1.setAttribute('data-team', t1);
          span2.setAttribute('data-team', t2);
          span1.innerHTML = `<div class='circle' data-team='${t1}'></div> ${t1}`;
          span2.innerHTML = `<div class='circle' data-team='${t2}'></div> ${t2}`;
          span1.onclick = () => selectCuartosWinner(i / 2, t1, match);
          span2.onclick = () => selectCuartosWinner(i / 2, t2, match);
          match.appendChild(span1);
          match.appendChild(span2);
          cuartos.appendChild(match);
        }
      }
    }

    function selectCuartosWinner(index, team, match) {
      const spans = match.querySelectorAll('span');
      spans.forEach(span => span.style.background = '');
      match.querySelector(`span[data-team="${team}"]`).style.background = '#e9c46a';
      window.cuartosWinners[index] = team;
      updateSemis();
    }

    function updateSemis() {
      const semis = document.getElementById('semis');
      semis.innerHTML = '<h2>Semifinales</h2>';
      const selected = window.cuartosWinners.filter(Boolean);
      window.semisWinners = [];
      for (let i = 0; i < selected.length; i += 2) {
        if (selected[i + 1]) {
          const t1 = selected[i];
          const t2 = selected[i + 1];
          const match = document.createElement('div');
          match.classList.add('match');
          const span1 = document.createElement('span');
          const span2 = document.createElement('span');
          span1.className = 'team';
          span2.className = 'team';
          span1.setAttribute('data-team', t1);
          span2.setAttribute('data-team', t2);
          span1.innerHTML = `<div class='circle' data-team='${t1}'></div> ${t1}`;
          span2.innerHTML = `<div class='circle' data-team='${t2}'></div> ${t2}`;
          span1.onclick = () => selectSemisWinner(i / 2, t1, match);
          span2.onclick = () => selectSemisWinner(i / 2, t2, match);
          match.appendChild(span1);
          match.appendChild(span2);
          semis.appendChild(match);
        }
      }
    }

    function selectSemisWinner(index, team, match) {
      const spans = match.querySelectorAll('span');
      spans.forEach(span => span.style.background = '');
      match.querySelector(`span[data-team="${team}"]`).style.background = '#f4a261';
      window.semisWinners[index] = team;
      updateFinal();
    }

    function updateFinal() {
      const final = document.getElementById('final');
      final.innerHTML = '<h2>Final</h2>';
      const [t1, t2] = window.semisWinners;
      if (t1 && t2) {
        const match = document.createElement('div');
        match.classList.add('match');
        const span1 = document.createElement('span');
        const span2 = document.createElement('span');
        span1.className = 'team';
        span2.className = 'team';
        span1.setAttribute('data-team', t1);
        span2.setAttribute('data-team', t2);
        span1.innerHTML = `<div class='circle' data-team='${t1}'></div> ${t1}`;
        span2.innerHTML = `<div class='circle' data-team='${t2}'></div> ${t2}`;
        span1.onclick = () => selectFinalWinner(t1, match);
        span2.onclick = () => selectFinalWinner(t2, match);
        match.appendChild(span1);
        match.appendChild(span2);
        final.appendChild(match);
      }
    }

    function selectFinalWinner(team, match) {
      const spans = match.querySelectorAll('span');
      spans.forEach(span => span.style.background = '');
      match.querySelector(`span[data-team="${team}"]`).style.background = '#ffd166';
      showChampion(team);
    }

    function showChampion(team) {
      const champ = document.getElementById('champion');
      champ.textContent = `🏆 Campeón del Mundial de Clubes: ${team}`;
    }
  </script>
<button id="shareButton" style="margin-top: 2rem; padding: 0.7rem 1.2rem; font-size: 1rem; background: #25D366; color: white; border: none; border-radius: 5px; cursor: pointer; display: none;">Compartir por WhatsApp</button>
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
<script>
function showChampion(team) {
  const champ = document.getElementById('champion');
  champ.textContent = `🏆 Campeón del Mundial de Clubes: ${team}`;
  document.getElementById('shareButton').style.display = 'inline-block';
}

document.getElementById('shareButton').onclick = async () => {
  const captureArea = document.body;
  const canvas = await html2canvas(captureArea);
  canvas.toBlob(blob => {
    const file = new File([blob], 'fixture.png', { type: 'image/png' });
    const data = new FormData();
    data.append('file', file);
    const url = URL.createObjectURL(file);
    const message = encodeURIComponent('¡Mirá mi predicción del Mundial de Clubes 2025! 🏆');
    const whatsappUrl = `https://wa.me/?text=${message}%20${url}`;
    window.open(whatsappUrl, '_blank');
  });
};
</script>
</body>
</html>
